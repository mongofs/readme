# ACID
首先要强调的是redis是否支持ACID ，其实先认清楚什么是ACID
- A :Atomicity 原子性 
- C :Consistency 一致性 
- I :Isolation 隔离性
- D :Durability 持久化

## 目录
- [如何实现事务](##如何实现事务)
- [Atomicity](###Atomicity)




#### 如何实现事务
- multi 开启事务
- exec  开启执行
- discard 放弃事务

整体流程是首先和mysql的事务一样，开启事务，然后将所有事务放入一个队列中，在开启exec的时候统一执行。


####  Atomicity
关于原子性。其实原子性本身在redis中是难以被保证的，为什么这么说

- 情况一： 语句错误 。如果redis的事务中存在语句错误，ABC三条语句操作三个不同的东西，如果B语句为错误语句在
编译阶段就能被识别，那么在执行exec的时候就会报出错误，所有语句都错误。但是这种情况很少

- 情况二： 类型不匹配，如果redis语句没有错误，只是操作对象不匹配，比如pop 一个字符串，那么还是会执行，但是到
执行阶段，在它之前的内容都会被执行，到它这里的就会报错，但是原子性不被保障了。

#### Consistency
关于一致性，由于redis本身没有什么强约束关系，比如主键、外键约束，那么在任意时刻redis数据都是拥有一致性的。但是
比如我执行一个事务ABCD，当执行AB的时候redis死掉了，CD并没有执行其实也是符合数据库层面的一致性，只是不符合业务逻辑
的一致性了。

简单讲述完了这个原理的话，其实不论redis怎么样来进行操作都是保障了一致性的需求，因为它本身没有强约束的内容。


####